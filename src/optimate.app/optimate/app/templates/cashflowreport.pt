<html>

    <link rel="stylesheet" tal:attributes="href string:${request.application_url}/static/css/reports.css">
    <span tal:replace='structure string:<style>'/>
        /* The default style */
        @page {
            @frame {
                margin: 2cm;
                top :4.6cm;
            }
            @frame header {
                -pdf-frame-content: headerContent;
                top :1cm;
                margin-left: 2cm;
                margin-right: 2cm;
                height: 5.2cm;
            }
            @frame footer {
                -pdf-frame-content: pageNumber;
                height: 1cm;
                bottom: 1cm;
                margin-left: 2cm;
                margin-right: 2cm;
            }
        }
    <span tal:replace='structure string:</style>'/>

<body>
    <div id="headerContent">
        <h1>Cash flow report</h1>
        <table class="order-font">
            <tr></tr>
            <tr>
                <td style="width: 60px">To:</td>
                <td class="bold" style="width: 400px; text-align:left" tal:content="client.Name|nothing"></td>
            </tr>
            <tr>
                <td style="width: 60px">Project</td>
                <td class="bold" style="width: 400px; text-align:left">${project.Name}</td>
            </tr>
        </table>
        <div>&nbsp;</div>
        <table class="order-font">
            <tr style="border-top: 1px solid #000;">
                <td></td>
            </tr>
            <tr style="border-bottom: 1px solid #000;">
                <th class="bold" style="width: 300px; text-align:left">Details</th>
                <th class="bold" style="width: 200px; text-align:right"
                    tal:repeat="valuation valuations">${valuation['Date']}</th>
            </tr>
        </table>
    </div>
    <!-- each column of valuation items is a table next to each other -->
    <div style="display=inline-table;">
        <table class="order-font" tal:repeat="valuation valuations">
            <tr tal:repeat="item valuation">
                <td style="width: 200px; text-align:right">${currency + '{:20,.2f}'.format(float(item['AmountComplete'])).strip()|nothing}</td>
            </tr>
        </table>
    <div>

    <div id="pageNumber">
        <pdf:pagenumber>
    </div>
</body>
</html>
