<div id="addComponent" class="modal fade" ng-click="closeDropdown($event)">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" 
                        aria-hidden="true" data-ng-show="calculatorHidden">&times;</button>
                <button type="button" class="close" data-ng-click="toggleCalculator()"
                        aria-hidden="true" data-ng-show="!calculatorHidden">&times;</button>
                <h3 class="modal-title">{{modalState}} Component</h3>
            </div>
            <div class="modal-body">
                <div data-ng-show="calculatorHidden">
                    <form class="form-horizontal" name="addComponentForm" novalidate>
                        <div class="form-group">
                            <label for="inputResources"
                                   class="col-sm-2 control-label">Resource:
                            </label>
                            <div id="content">
                                <div id="related_items_finder"
                                     class="finder icons-on col-sm-7">
                                    <ul class="finder-choices">
                                        <li class="search-field">
                                            <input type="text" autocomplete="off"
                                                   size="62"
                                                   class="default" id="inputResources" name="inputResources"
                                                   ng-model="formData['inputResources']"
                                                   placeholder="Click to search or browse or enter the Name of a new component"
                                                   ng-required="!addComponentForm.has_selection">
                                        </li>
                                    </ul>
                                    <div style="left: -9000px; width: 99.9%; top: 29px;" class="finder-dropdown">
                                        <div class="finder-pathbar">
                                            <strong>You are here:</strong>
                                            <span class="internalpath">
                                                <span>Home</span>
                                            </span>
                                            <div class="pull-right">
                                                <a ng-show="searching"
                                                   href=""
                                                   title="Abandon search"
                                                   ng-click="finder.listdir()"
                                                   ><i class="glyphicon glyphicon-trash"> </i></a>
                                                <a href=""
                                                   title="Refresh list"
                                                   ng-click="refreshResourceList()"
                                                   ><i class="glyphicon glyphicon-refresh"> </i></a>
                                            </div>
                                        </div>
                                        <ul class="finder-results">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label"
                                   for="description">Description:</label>
                            <textarea class="col-sm-7" id="description"
                                      name="description"
                                      ng-model="formData['Description']"
                                      ng-disabled="addComponentForm.has_selection"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="inputQuantity" class="col-sm-2 control-label">Quantity:</label>
                            <input type="smartFloat"
                                   min="0"
                                   class="col-sm-1"
                                   id="inputQuantity"
                                   name="inputQuantity"
                                   ng-model="formData['Quantity']">
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label"
                                   for="rate">Rate:</label>
                            <input class="col-sm-1" id="rate"
                                   type="smartFloat"
                                   name="rate"
                                   ng-model="formData['Rate']"
                                   ng-disabled="addComponentForm.has_selection"
                                   required />
                          <!--  <ul class="nav nav-pills no-top-margin">
                                <li>
                                    <a role="button"
                                       data-ng-click="toggleCalculator()"
                                       title="Rate Calculator">
                                        <i class="fa fa-calculator"></i>
                                    </a>
                                </li>
                            </ul> -->
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label"
                                   for="resourcetype">Type:</label>
                            <select class="chosen width20"
                                    chosen                
                                    inherit_select_classes="true"            
                                    id="resourcetype"
                                    name="resourcetype"
                                    ng-disabled="addComponentForm.has_selection"
                                    ng-model="formData['ResourceType']"
                                    ng-options="type.ID as type.Name for type in restypeList"
                                    required>
                                <option value="">Select a type</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" style="display: block;" >Overhead:
                            </label>
                            <table>
                                <tr data-ng-repeat="overhead in componentOverheadList">
                                    <td>{{overhead.Name}} &nbsp;</td>
                                    <td>
                                        <button class="custom-checkbox"
                                              data-ng-click="overhead.selected = !overhead.selected">
                                            <i data-ng-class="{true:'fa fa-check-square-o',undefined:'fa fa-square-o', false:'fa fa-square-o'}[overhead.selected]">
                                            </i>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    <form>
                </div>
                <div class="center" data-ng-show="!calculatorHidden">
                    <div class="calc-main">
                        <div class="calc-display">
	                        <span>0</span>
	                        <div class="calc-rad">Rad</div>
	                        <div class="calc-hold"></div>
	                        <div class="calc-buttons">
		                        <div class="calc-info">?</div>
		                        <div class="calc-smaller">&gt;</div>
		                      <!--  <div class="calc-ln">.</div> -->
	                        </div>
                        </div>
                        <div class="calc-left">
	                        <div><div>2nd</div></div>
	                        <div><div>(</div></div>
	                        <div><div>)</div></div>
	                        <div><div>%</div></div>
	                        <div><div>1/x</div></div>
	                        <div><div>x<sup>2</sup></div></div>
	                        <div><div>x<sup>3</sup></div></div>
	                        <div><div>y<sup>x</sup></div></div>
	                        <div><div>x!</div></div>
	                        <div><div>&radic;</div></div>
	                        <div><div class="calc-radxy">
		                        <sup>x</sup><em>&radic;</em><span>y</span>
	                        </div></div>
	                        <div><div>log</div></div>
	                        <div><div>sin</div></div>
	                        <div><div>cos</div></div>
	                        <div><div>tan</div></div>
	                        <div><div>ln</div></div>
	                        <div><div>sinh</div></div>
	                        <div><div>cosh</div></div>
	                        <div><div>tanh</div></div>
	                        <div><div>e<sup>x</sup></div></div>
	                        <div><div>Deg</div></div>
	                        <div><div>&pi;</div></div>
	                        <div><div>EE</div></div>
	                        <div><div>Rand</div></div>
                        </div>
                        <div class="calc-right">
	                        <div><div>mc</div></div>
	                        <div><div>m+</div></div>
	                        <div><div>m-</div></div>
	                        <div><div>mr</div></div>
	                        <div class="calc-brown"><div >AC</div></div>
	                        <div class="calc-brown"><div>+/&#8211;</div></div>
	                        <div class="calc-brown calc-f19"><div>&divide;</div></div>
	                        <div class="calc-brown calc-f21"><div>&times;</div></div>
	                        <div class="calc-black"><div>7</div></div>
	                        <div class="calc-black"><div>8</div></div>
	                        <div class="calc-black"><div>9</div></div>
	                        <div class="calc-brown calc-f18"><div>&#8211;</div></div>
	                        <div class="calc-black"><div>4</div></div>
	                        <div class="calc-black"><div >5</div></div>
	                        <div class="calc-black"><div>6</div></div>
	                        <div class="calc-brown calc-f18"><div>+</div></div>
	                        <div class="calc-black"><div>1</div></div>
	                        <div class="calc-black"><div>2</div></div>
	                        <div class="calc-black"><div>3</div></div>
	                        <div class="calc-blank"><textarea></textarea></div>
	                        <div class="calc-orange calc-eq calc-f17"><div>
		                        <div class="calc-down">=</div>
	                        </div></div>
	                        <div class="calc-black calc-zero"><div>
		                        <span>0</span>
	                        </div></div>
	                        <div class="calc-black calc-f21"><div>.</div></div>
                        </div>
                    </div>
                    <!--<script src="js/calculator.js"></script>-->
                </div>
            </div>
            <div class="modal-footer" data-ng-show="calculatorHidden">
                <button ng-show="modalState == 'Add'" class="btn btn-primary" data-dismiss="modal"
                 ng-disabled="!addComponentForm.$valid"
                 ng-click="selectedResource(); addNode()">Save</button>
                <button ng-show="modalState == 'Edit'" class="btn btn-primary" data-dismiss="modal"
                 ng-disabled="!addComponentForm.$valid"
                 ng-click="selectedResource(); saveNodeEdits()">Update</button>
                <button class="btn btn-default" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            </div>
            <div class="modal-footer" data-ng-show="!calculatorHidden">
                <button type="select" class="btn btn-primary" data-ng-click="toggleCalculator()">Close Calculator</button>
            </div>
        </div>
    </div>
</div>
